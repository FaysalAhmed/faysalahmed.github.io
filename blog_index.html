<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Blog · Faysal Ahmed</title>
    <meta name="description" content="Articles about development, design and personal projects by Faysal Ahmed." />
    <style>
        :root{
            --bg:#f7fafc;
            --card:#ffffff;
            --muted:#6b7280;
            --text:#0f1724;
            --brand:#0fb9a2;
            --accent:#0a84ff;
            --radius:12px;
            font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
        }
        *{box-sizing:border-box}
        html,body{height:100%}
        body{
            margin:0;
            background:linear-gradient(180deg,var(--bg),#eef2f7 60%);
            color:var(--text);
            -webkit-font-smoothing:antialiased;
            -moz-osx-font-smoothing:grayscale;
            padding:48px;
            display:flex;
            justify-content:center;
            align-items:flex-start;
        }
        .wrap{width:100%;max-width:980px}
        header{
            display:flex;align-items:center;justify-content:space-between;margin-bottom:28px;
        }
        .brand{display:flex;align-items:center;gap:12px;text-decoration:none;color:var(--text)}
        .logo{
            width:52px;height:52px;border-radius:12px;background:linear-gradient(135deg,var(--brand),var(--accent));
            display:grid;place-items:center;overflow:hidden;
            box-shadow:0 6px 20px rgba(2,6,23,0.06);
        }
        .logo img{width:100%;height:100%;object-fit:cover;display:block;border-radius:inherit}
        nav a{color:var(--muted);text-decoration:none;margin-left:18px;font-size:14px}
        .hero{
            background:linear-gradient(180deg,rgba(2,6,23,0.03),transparent);
            border-radius:var(--radius);padding:28px;margin-bottom:20px;
            display:flex;flex-direction:column;gap:12px;
            box-shadow:0 6px 30px rgba(2,6,23,0.08);
        }
        .hero h1{margin:0;font-size:22px}
        .hero p{margin:0;color:var(--muted)}
        .intro{
            background:linear-gradient(180deg,rgba(2,6,23,0.02),transparent);
            border-radius:var(--radius);padding:20px;margin-bottom:20px;border:1px solid rgba(2,6,23,0.04);
        }
        .intro h2{margin:0;font-size:18px}
        .intro .intro-text{margin-top:8px;color:var(--muted);font-size:14px}
        .intro .cta{color:var(--accent);text-decoration:none;font-weight:600;margin-left:6px}
        .controls{display:flex;gap:12px;flex-wrap:wrap;margin-top:8px}
        .search{
            flex:1;min-width:220px;
            background:rgba(2,6,23,0.03);border:1px solid rgba(2,6,23,0.04);
            padding:10px 12px;border-radius:10px;color:var(--text);
        }
        .tags{display:flex;gap:8px;flex-wrap:wrap}
        .tag{
            background:transparent;border:1px solid rgba(2,6,23,0.06);padding:8px 10px;border-radius:999px;color:var(--muted);
            font-size:13px;cursor:pointer;
        }
        .tag.active{background:linear-gradient(90deg,var(--brand),var(--accent));color:#062022;border:none}
        .grid{display:grid;grid-template-columns:1fr 1fr;gap:16px}
        .card{
            background:linear-gradient(180deg,rgba(2,6,23,0.02),transparent);
            border-radius:12px;padding:18px;border:1px solid rgba(2,6,23,0.04);
            transition:transform .16s ease,box-shadow .16s ease;
        }
        .card:hover{transform:translateY(-6px);box-shadow:0 18px 50px rgba(2,6,23,0.08)}
        .meta{font-size:13px;color:var(--muted);margin-bottom:8px}
        .title{margin:0;font-size:16px}
        .excerpt{color:var(--muted);font-size:14px;margin-top:10px}
        .card .tags{margin-top:14px}
        footer{margin-top:26px;color:var(--muted);font-size:13px;text-align:center}
        @media (max-width:720px){
            body{padding:20px}
            .grid{grid-template-columns:1fr}
            header{flex-direction:column;align-items:flex-start;gap:12px}
        }
    </style>
</head>
<body>
    <main class="wrap" id="app" role="main">
        <header>
            <a class="brand" href="/">
                <div class="logo"><img src="/assets/images/faysal-image.jpg" alt="Faysal Ahmed"></div>
                <div>
                    <div style="font-weight:700">Faysal Ahmed</div>
                    <div style="font-size:12px;color:var(--muted);margin-top:2px">Dev • Design • Notes</div>
                </div>
            </a>
            
        </header>

        <section class="hero" aria-labelledby="hero-heading">
            <h1 id="hero-heading">Welcome to My Blog</h1>
            <p>Information Technology Lead at Ghorerbazar with over 10 years of experience leading teams to deliver impactful technology solutions. Currently focused on software systems engineering, ERP development, and internal tools, with a key role in creating applications like the Order Management Tool (OMT) and Data Call Management (DCM). <br/><br/>

Expertise includes cybersecurity, data science, and developing systems that enhance operational efficiency. Passionate about collaborating with teams to deliver tailored tools such as the Order Management Tool Partial Payment Module (OMTPPM), driving innovation and streamlining processes.</p>

            <div class="controls">
                <input id="q" class="search" type="search" placeholder="Search posts by title, excerpt or tag" aria-label="Search posts">
                <div id="tags" class="tags" aria-label="Filter by tag"></div>
            </div>
        </section>

        <section id="list" class="grid" aria-live="polite"></section>

        <footer>
            © <span id="year"></span> Faysal Ahmed — Built with simple, accessible HTML/CSS.
        </footer>
    </main>

    <script>
        // posts will be populated by scanning /blog/ folders and reading meta tags
        let posts = [];

        const state = {q:'', tag: null};

        const elList = document.getElementById('list');
        const elTags = document.getElementById('tags');
        const elQ = document.getElementById('q');
        document.getElementById('year').textContent = new Date().getFullYear();

        function formatDate(d){
            return d ? new Date(d).toLocaleDateString(undefined,{year:'numeric',month:'short',day:'numeric'}) : '';
        }

        function allTags(){
            const s = new Set();
            posts.forEach(p=>(p.tags||[]).forEach(t=>s.add(t)));
            return Array.from(s).sort();
        }

        function renderTags(){
            const tags = allTags();
            elTags.innerHTML = '';
            const allBtn = document.createElement('button');
            allBtn.className='tag' + (state.tag===null?' active':'');
            allBtn.textContent='All';
            allBtn.onclick=()=>{state.tag=null;render();renderTags()};
            elTags.appendChild(allBtn);
            tags.forEach(t=>{
                const b = document.createElement('button');
                b.className='tag' + (state.tag===t?' active':'');
                b.textContent = t;
                b.onclick = ()=>{ state.tag = state.tag===t?null:t; render(); renderTags();};
                elTags.appendChild(b);
            });
        }

        function matches(p){
            if(state.tag && !(p.tags||[]).includes(state.tag)) return false;
            if(!state.q) return true;
            const s = state.q.toLowerCase();
            return (p.title||'').toLowerCase().includes(s) || (p.excerpt||'').toLowerCase().includes(s) || (p.tags||[]).join(' ').toLowerCase().includes(s);
        }

        function render(){
            elList.innerHTML = '';
            const filtered = posts.filter(matches).sort((a,b)=> new Date(b.date)-new Date(a.date));
            if(filtered.length===0){
                elList.innerHTML = '<div style="grid-column:1/-1;color:var(--muted);padding:18px;background:transparent;border-radius:8px">No posts found.</div>';
                return;
            }
            filtered.forEach(p=>{
                const card = document.createElement('article');
                card.className='card';
                card.innerHTML = `
                    <div class="meta">${formatDate(p.date)} · ${(p.tags||[]).join(', ')}</div>
                    <h3 class="title"><a href="${p.url}" style="color:var(--text);text-decoration:none">${p.title}</a></h3>
                    <div class="excerpt">${p.excerpt || ''}</div>
                    <div class="tags" aria-hidden="true">
                        ${(p.tags||[]).map(t=>`<span class="tag" style="border:none;background:rgba(0,0,0,0.04);color:var(--muted);padding:6px 8px;border-radius:999px;margin-right:6px">${t}</span>`).join('')}
                    </div>
                `;
                elList.appendChild(card);
            });
        }

        elQ.addEventListener('input', e=>{
            state.q = e.target.value.trim();
            render();
        });

        // -- helpers to read directory listings and post meta --
        async function fetchDirectory(url){
            // ensure trailing slash
            if(!url.endsWith('/')) url = url + '/';
            try{
                const res = await fetch(url);
                if(!res.ok) return [];
                const text = await res.text();
                const doc = new DOMParser().parseFromString(text,'text/html');
                const anchors = Array.from(doc.querySelectorAll('a'));
                return anchors.map(a=>a.getAttribute('href')).filter(Boolean).filter(h=>h !== '../');
            }catch(e){
                return [];
            }
        }

        function parseMetaFromHTML(html){
            const doc = new DOMParser().parseFromString(html,'text/html');
            const get = name => doc.querySelector(`meta[name="${name}"]`)?.getAttribute('content') || '';
            const title = get('title') || (doc.querySelector('title')?.textContent || '').trim() || doc.querySelector('h1')?.textContent?.trim() || '';
            const date = get('date') || '';
            const excerpt = get('excerpt') || get('description') || doc.querySelector('p')?.textContent?.trim() || '';
            // Accept either <meta name="tags"> or <meta name="keywords"> as tag sources
            const tagsRaw = get('tags') || get('keywords') || '';
            // split on commas or whitespace
            const tags = tagsRaw ? tagsRaw.split(/[\s,]+/).map(s=>s.trim()).filter(Boolean) : [];
            return {title,date,excerpt,tags};
        }

        async function loadPostsFromBlogFolder(){
            posts = [];
            const base = '/blog/';
            const cats = await fetchDirectory(base); // e.g. ["category1/", "category2/"]
            for(const c of cats){
                // skip files
                if(!c.endsWith('/')) continue;
                const catName = c.replace(/\/$/, '');
                const files = await fetchDirectory(base + catName + '/');
                for(const f of files){
                    if(!f.toLowerCase().endsWith('.html')) continue;
                    const fileUrl = base + catName + '/' + f;
                    try{
                        const res = await fetch(fileUrl);
                        if(!res.ok) continue;
                        const text = await res.text();
                        const meta = parseMetaFromHTML(text);
                        posts.push({
                            title: meta.title || f,
                            date: meta.date || '',
                            excerpt: meta.excerpt || '',
                            tags: meta.tags || [],
                            url: fileUrl,
                            category: catName
                        });
                    }catch(e){
                        // ignore individual failures
                    }
                }
            }
        }

        // initial: load posts then render
        (async ()=>{
            await loadPostsFromBlogFolder();
            renderTags();
            render();
        })();
    </script>
</body>
</html>